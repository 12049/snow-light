<!doctype html>
<html lang="ar" dir="rtl"> 
 <head> 
  <meta charset="UTF-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <title>Snow Light - نظام إدارة منتجات التجميل</title> 
  <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }
        
        body {
            background-color: #fff9fb;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Header Styles */
        header {
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
            color: white;
            padding: 25px 0;
            text-align: center;
            box-shadow: 0 2px 15px rgba(0,0,0,0.1);
            border-radius: 0 0 20px 20px;
            margin-bottom: 30px;
        }
        
        .logo {
            font-size: 32px;
            font-weight: bold;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
        }
        
        .slogan {
            font-size: 16px;
            margin-top: 10px;
            font-style: italic;
        }
        
        /* Main Content */
        .main-content {
            margin-top: 20px;
            background-color: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .page-title {
            font-size: 26px;
            margin-bottom: 25px;
            color: #d23669;
            border-bottom: 2px solid #f8e1e7;
            padding-bottom: 10px;
            display: flex;
            align-items: center;
        }
        
        .page-title i {
            margin-left: 10px;
            font-size: 28px;
        }
        
        /* Form Styles */
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #666;
        }
        
        .form-group input, 
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 14px;
            border: 1px solid #f0d6e1;
            border-radius: 8px;
            font-size: 16px;
            background-color: #fffbfd;
            transition: all 0.3s;
        }
        
        .form-group input:focus, 
        .form-group select:focus,
        .form-group textarea:focus {
            border-color: #d23669;
            box-shadow: 0 0 0 3px rgba(210, 54, 105, 0.1);
            outline: none;
        }
        
        .form-row {
            display: flex;
            gap: 20px;
        }
        
        .form-row .form-group {
            flex: 1;
        }
        
        .btn {
            background: linear-gradient(to right, #ff758c, #ff7eb3);
            color: white;
            border: none;
            padding: 14px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: 0 4px 6px rgba(255, 117, 140, 0.2);
        }
        
        .btn:hover {
            background: linear-gradient(to right, #ff7eb3, #ff758c);
            transform: translateY(-2px);
            box-shadow: 0 6px 10px rgba(255, 117, 140, 0.3);
        }
        
        .btn-block {
            display: block;
            width: 100%;
        }
        
        /* Image Upload */
        .image-upload {
            border: 2px dashed #f0d6e1;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            margin-bottom: 20px;
            background-color: #fffbfd;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .image-upload:hover {
            border-color: #d23669;
            background-color: #fff9fb;
        }
        
        .image-upload i {
            font-size: 48px;
            color: #d23669;
            margin-bottom: 10px;
        }
        
        .image-preview {
            max-width: 200px;
            max-height: 200px;
            margin-top: 15px;
            display: none;
            border-radius: 8px;
            border: 1px solid #f0d6e1;
        }
        
        /* Product Card */
        .product-card {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            overflow: hidden;
            transition: transform 0.3s;
            margin-bottom: 20px;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .product-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        
        .product-body {
            padding: 15px;
        }
        
        .product-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
            color: #333;
        }
        
        .product-price {
            font-size: 16px;
            color: #d23669;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .product-seller {
            font-size: 14px;
            color: #666;
            margin-bottom: 5px;
        }
        
        .product-date {
            font-size: 12px;
            color: #999;
        }
        
        /* Search Section */
        .search-section {
            background-color: #fff9fb;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .search-row {
            display: flex;
            gap: 15px;
        }
        
        .search-row input {
            flex: 1;
        }
        
        /* Tabs */
        .tabs {
            display: flex;
            margin-bottom: 25px;
            border-bottom: 1px solid #f0d6e1;
            gap: 5px;
        }
        
        .tab {
            padding: 12px 25px;
            cursor: pointer;
            background-color: #f8e1e7;
            border-radius: 8px 8px 0 0;
            font-weight: bold;
            color: #a12a52;
            transition: all 0.3s;
        }
        
        .tab.active {
            background-color: #d23669;
            color: white;
        }
        
        /* Grid Layout */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .main-content {
                padding: 20px;
            }
            
            .form-row, .search-row {
                flex-direction: column;
                gap: 0;
            }
            
            .tab {
                padding: 10px 15px;
                font-size: 14px;
            }
            
            .products-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* Beauty Icons */
        .icon {
            display: inline-block;
            margin-left: 8px;
            color: #d23669;
        }
        
        /* Badges */
        .badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 5px;
        }
        
        .badge-new {
            background-color: #ff758c;
            color: white;
        }
        
        .badge-sale {
            background-color: #ffb347;
            color: white;
        }
    </style> 
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"> 
 </head> 
 <body> 
  <header> 
   <div class="container"> 
    <div class="logo">
     Snow Light
    </div> 
    <div class="slogan">
     نظام إدارة منتجات التجميل
    </div> 
   </div> 
  </header> 
  <div class="container"> 
   <div class="tabs"> 
    <div class="tab active" onclick="showTab('host')"> <i class="fas fa-upload icon"></i> استضافة منتج 
    </div> 
    <div class="tab" onclick="showTab('browse')"> <i class="fas fa-search icon"></i> استعراض المنتجات 
    </div> 
    <div class="tab" onclick="showTab('manage')"> <i class="fas fa-user-cog icon"></i> إدارة منتجاتي 
    </div> 
   </div> 
   <div class="main-content"> <!-- استضافة منتج جديد --> 
    <div id="host-tab"> 
     <h2 class="page-title"> <i class="fas fa-upload"></i> استضافة منتج جديد </h2> 
     <form id="product-form"> 
      <div class="form-row"> 
       <div class="form-group"> <label for="client-id">الرقم التعريفي الخاص بك <small>(6 أرقام)</small></label> 
        <input type="text" id="client-id" placeholder="أدخل الرقم التعريفي المكون من 6 أرقام" maxlength="6" required> 
       </div> 
       <div class="form-group"> <label for="client-name">اسمك الكامل</label> 
        <input type="text" id="client-name" placeholder="أدخل اسمك الكامل" required> 
       </div> 
      </div> 
      <div class="form-group"> <label for="product-name">اسم المنتج</label> 
       <input type="text" id="product-name" placeholder="أدخل اسم المنتج" required> 
      </div> 
      <div class="form-row"> 
       <div class="form-group"> <label for="product-price">سعر المنتج (دينار)</label> 
        <input type="number" id="product-price" placeholder="أدخل سعر المنتج" min="1" required> 
       </div> 
       <div class="form-group"> <label for="product-category">فئة المنتج</label> <select id="product-category" required> <option value="">اختر الفئة</option> <option value="العناية بالبشرة">العناية بالبشرة</option> <option value="العناية بالشعر">العناية بالشعر</option> <option value="المكياج">المكياج</option> <option value="العطور">العطور</option> <option value="أخرى">أخرى</option> </select> 
       </div> 
      </div> 
      <div class="form-group"> <label for="product-description">وصف المنتج</label> <textarea id="product-description" rows="3" placeholder="أدخل وصفاً مفصلاً للمنتج"></textarea> 
      </div> <!-- رفع الصور --> 
      <div class="form-group"> <label>صورة المنتج</label> 
       <div class="image-upload" onclick="document.getElementById('product-image').click()"> <i class="fas fa-cloud-upload-alt"></i> 
        <p>انقر لرفع صورة المنتج</p> 
        <img id="image-preview" class="image-preview" alt="معاينة الصورة"> 
        <input type="file" id="product-image" accept="image/*" style="display: none;" onchange="previewImage(this)"> 
       </div> 
      </div> 
      <div class="form-group"> <label for="product-condition">حالة المنتج</label> <select id="product-condition"> <option value="جديد">جديد</option> <option value="مستعمل - مثل الجديد">مستعمل - مثل الجديد</option> <option value="مستعمل - جيد">مستعمل - جيد</option> </select> 
      </div> <button type="submit" class="btn btn-block"> <i class="fas fa-save icon"></i> استضافة المنتج </button> 
     </form> 
     <div id="host-result" class="result-container" style="display: none; margin-top: 20px;"> 
      <h3>تم استضافة المنتج بنجاح!</h3> 
      <div id="host-product-info"></div> 
     </div> 
    </div> <!-- استعراض المنتجات --> 
    <div id="browse-tab" style="display: none;"> 
     <h2 class="page-title"> <i class="fas fa-search"></i> استعراض المنتجات </h2> 
     <div class="search-section"> 
      <div class="search-row"> 
       <input type="text" id="search-query" placeholder="ابحث عن منتج..."> <button onclick="searchProducts()" class="btn">بحث</button> 
      </div> 
      <div style="margin-top: 15px; display: flex; gap: 10px;"> <select id="search-category" style="flex: 1;"> <option value="">جميع الفئات</option> <option value="العناية بالبشرة">العناية بالبشرة</option> <option value="العناية بالشعر">العناية بالشعر</option> <option value="المكياج">المكياج</option> <option value="العطور">العطور</option> <option value="أخرى">أخرى</option> </select> <select id="search-sort" style="flex: 1;"> <option value="newest">الأحدث أولاً</option> <option value="oldest">الأقدم أولاً</option> <option value="price-low">السعر من الأقل للأعلى</option> <option value="price-high">السعر من الأعلى للأقل</option> </select> 
      </div> 
     </div> 
     <div id="products-container" class="products-grid"> <!-- سيتم ملء هذا القسم بالمنتجات عبر JavaScript --> 
     </div> 
     <div id="no-products" style="text-align: center; padding: 40px; display: none;"> <i class="fas fa-box-open" style="font-size: 50px; color: #f0d6e1; margin-bottom: 15px;"></i> 
      <h3 style="color: #666;">لا توجد منتجات متاحة حالياً</h3> 
      <p>قم بإضافة منتجك الأول ليكون أول من يعرض منتجاته!</p> 
     </div> 
    </div> <!-- إدارة منتجاتي --> 
    <div id="manage-tab" style="display: none;"> 
     <h2 class="page-title"> <i class="fas fa-user-cog"></i> إدارة منتجاتي </h2> 
     <div class="form-row" style="margin-bottom: 20px;"> 
      <div class="form-group"> <label for="manage-client-id">الرقم التعريفي الخاص بك</label> 
       <input type="text" id="manage-client-id" placeholder="أدخل الرقم التعريفي المكون من 6 أرقام" maxlength="6"> 
      </div> 
      <div class="form-group" style="align-self: flex-end;"> <button onclick="loadMyProducts()" class="btn">عرض منتجاتي</button> 
      </div> 
     </div> 
     <div id="my-products-container" class="products-grid"> <!-- سيتم ملء هذا القسم بمنتجات البائع عبر JavaScript --> 
     </div> 
     <div id="no-my-products" style="text-align: center; padding: 40px; display: none;"> <i class="fas fa-user-slash" style="font-size: 50px; color: #f0d6e1; margin-bottom: 15px;"></i> 
      <h3 style="color: #666;">لا توجد منتجات مسجلة باسمك</h3> 
      <p>قم بإضافة منتجاتك لتبدأ بعرضها للعملاء</p> 
     </div> 
    </div> 
   </div> 
  </div> <!-- Modal for Product Details --> 
  <div id="product-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.7); z-index: 1000; justify-content: center; align-items: center; overflow-y: auto;"> 
   <div style="background-color: white; padding: 30px; border-radius: 10px; width: 90%; max-width: 800px; max-height: 90vh; overflow-y: auto;"> 
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;"> 
     <h3 id="modal-product-title" style="color: #d23669; font-size: 24px;"></h3> <button onclick="closeModal()" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #999;">×</button> 
    </div> 
    <div style="display: flex; gap: 20px; margin-bottom: 20px; flex-wrap: wrap;"> 
     <div style="flex: 1; min-width: 300px;"> 
      <img id="modal-product-image" src="" alt="صورة المنتج" style="width: 100%; max-height: 400px; object-fit: contain; border-radius: 8px; border: 1px solid #f0d6e1;"> 
     </div> 
     <div style="flex: 1; min-width: 300px;"> 
      <p id="modal-product-price" style="font-size: 24px; font-weight: bold; color: #d23669; margin-bottom: 15px;"></p> 
      <p id="modal-product-seller" style="margin-bottom: 10px;"></p> 
      <p id="modal-product-category" style="margin-bottom: 10px;"></p> 
      <p id="modal-product-condition" style="margin-bottom: 10px;"></p> 
      <p id="modal-product-date" style="color: #999; font-size: 14px; margin-bottom: 20px;"></p> <button onclick="contactSeller()" class="btn" style="margin-bottom: 15px;"> <i class="fas fa-phone-alt"></i> التواصل مع البائع </button> 
     </div> 
    </div> 
    <div style="margin-top: 20px;"> 
     <h4 style="color: #d23669; margin-bottom: 10px; border-bottom: 1px solid #f8e1e7; padding-bottom: 5px;">وصف المنتج</h4> 
     <p id="modal-product-description" style="line-height: 1.8;"></p> 
    </div> 
   </div> 
  </div> <!-- Modal for Edit Product --> 
  <div id="edit-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.7); z-index: 1000; justify-content: center; align-items: center; overflow-y: auto;"> 
   <div style="background-color: white; padding: 30px; border-radius: 10px; width: 90%; max-width: 600px; max-height: 90vh; overflow-y: auto;"> 
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;"> 
     <h3 style="color: #d23669; font-size: 24px;">تعديل المنتج</h3> <button onclick="closeEditModal()" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #999;">×</button> 
    </div> 
    <form id="edit-product-form"> 
     <input type="hidden" id="edit-product-id"> 
     <div class="form-group"> <label for="edit-product-name">اسم المنتج</label> 
      <input type="text" id="edit-product-name" required> 
     </div> 
     <div class="form-row"> 
      <div class="form-group"> <label for="edit-product-price">السعر (دينار)</label> 
       <input type="number" id="edit-product-price" min="1" required> 
      </div> 
      <div class="form-group"> <label for="edit-product-category">الفئة</label> <select id="edit-product-category" required> <option value="العناية بالبشرة">العناية بالبشرة</option> <option value="العناية بالشعر">العناية بالشعر</option> <option value="المكياج">المكياج</option> <option value="العطور">العطور</option> <option value="أخرى">أخرى</option> </select> 
      </div> 
     </div> 
     <div class="form-group"> <label for="edit-product-description">الوصف</label> <textarea id="edit-product-description" rows="3"></textarea> 
     </div> 
     <div class="form-group"> <label for="edit-product-condition">الحالة</label> <select id="edit-product-condition"> <option value="جديد">جديد</option> <option value="مستعمل - مثل الجديد">مستعمل - مثل الجديد</option> <option value="مستعمل - جيد">مستعمل - جيد</option> </select> 
     </div> 
     <div style="display: flex; justify-content: center; gap: 15px; margin-top: 20px;"> <button type="submit" class="btn">حفظ التعديلات</button> <button type="button" onclick="deleteProduct()" style="background: #ff6b6b; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">حذف المنتج</button> 
     </div> 
    </form> 
   </div> 
  </div> 
  <script>
        // تهيئة الصفحة عند التحميل
        document.addEventListener('DOMContentLoaded', function() {
            // عرض بعض المنتجات العشوائية عند الدخول
            loadSampleProducts();
        });
        
        // عرض تبويب معين وإخفاء الآخر
        function showTab(tabName) {
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.querySelector(`.tab[onclick="showTab('${tabName}')"]`).classList.add('active');
            
            document.getElementById('host-tab').style.display = 'none';
            document.getElementById('browse-tab').style.display = 'none';
            document.getElementById('manage-tab').style.display = 'none';
            
            document.getElementById(`${tabName}-tab`).style.display = 'block';
            
            // إذا كانت شاشة استعراض المنتجات، قم بتحميل المنتجات
            if (tabName === 'browse') {
                searchProducts();
            }
        }
        
        // معاينة الصورة قبل الرفع
        function previewImage(input) {
            const preview = document.getElementById('image-preview');
            const file = input.files[0];
            
            if (file) {
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                }
                
                reader.readAsDataURL(file);
            }
        }
        
        // تحميل قاعدة بيانات المنتجات من localStorage
        function loadProducts() {
            const products = localStorage.getItem('beauty_products');
            return products ? JSON.parse(products) : [];
        }
        
        // حفظ قاعدة بيانات المنتجات في localStorage
        function saveProducts(products) {
            localStorage.setItem('beauty_products', JSON.stringify(products));
        }
        
        // تسجيل منتج جديد
        document.getElementById('product-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const clientId = document.getElementById('client-id').value;
            const clientName = document.getElementById('client-name').value;
            const productName = document.getElementById('product-name').value;
            const productPrice = document.getElementById('product-price').value;
            const productCategory = document.getElementById('product-category').value;
            const productDescription = document.getElementById('product-description').value;
            const productCondition = document.getElementById('product-condition').value;
            const productImage = document.getElementById('product-image').files[0];
            
            // التحقق من صحة الرقم التعريفي
            if (clientId.length !== 6 || !/^\d+$/.test(clientId)) {
                alert('الرقم التعريفي يجب أن يكون مكون من 6 أرقام فقط');
                return;
            }
            
            if (!productImage) {
                alert('الرجاء اختيار صورة للمنتج');
                return;
            }
            
            // تحميل قاعدة البيانات الحالية
            const products = loadProducts();
            
            // إنشاء معرف فريد للمنتج
            const productId = Date.now().toString();
            
            // قراءة الصورة كـ base64
            const reader = new FileReader();
            reader.onload = function(e) {
                // إنشاء سجل المنتج
                const productData = {
                    id: productId,
                    clientId: clientId,
                    clientName: clientName,
                    name: productName,
                    price: productPrice,
                    category: productCategory,
                    description: productDescription,
                    condition: productCondition,
                    image: e.target.result,
                    date: new Date().toLocaleDateString('ar-EG')
                };
                
                // إضافة المنتج إلى القائمة
                products.push(productData);
                saveProducts(products);
                
                // عرض نتيجة التسجيل
                document.getElementById('host-result').style.display = 'block';
                document.getElementById('host-product-info').innerHTML = `
                    <p><strong>اسم المنتج:</strong> ${productName}</p>
                    <p><strong>السعر:</strong> ${productPrice} دينار</p>
                    <p><strong>الفئة:</strong> ${productCategory}</p>
                    <p style="margin-top: 15px;">تمت إضافة المنتج بنجاح وسيكون مرئياً للعملاء في قسم استعراض المنتجات</p>
                `;
                
                // تفريغ الحقول
                document.getElementById('product-form').reset();
                document.getElementById('image-preview').style.display = 'none';
                
                // الانتقال إلى قسم استعراض المنتجات بعد 3 ثواني
                setTimeout(() => {
                    showTab('browse');
                }, 3000);
            };
            
            reader.readAsDataURL(productImage);
        });
        
        // تحميل بعض المنتجات العشوائية كمثال
        function loadSampleProducts() {
            const products = loadProducts();
            displayProducts(products);
        }
        
        // البحث عن المنتجات
        function searchProducts() {
            const query = document.getElementById('search-query').value.toLowerCase();
            const category = document.getElementById('search-category').value;
            const sort = document.getElementById('search-sort').value;
            
            let products = loadProducts();
            
            // التصفية حسب البحث
            if (query) {
                products = products.filter(product => 
                    product.name.toLowerCase().includes(query) || 
                    product.description.toLowerCase().includes(query)
                );
            }
            
            // التصفية حسب الفئة
            if (category) {
                products = products.filter(product => product.category === category);
            }
            
            // الترتيب
            switch(sort) {
                case 'newest':
                    products.sort((a, b) => parseInt(b.id) - parseInt(a.id));
                    break;
                case 'oldest':
                    products.sort((a, b) => parseInt(a.id) - parseInt(b.id));
                    break;
                case 'price-low':
                    products.sort((a, b) => parseInt(a.price) - parseInt(b.price));
                    break;
                case 'price-high':
                    products.sort((a, b) => parseInt(b.price) - parseInt(a.price));
                    break;
            }
            
            displayProducts(products);
        }
        
        // عرض المنتجات في القسم المخصص
        function displayProducts(products) {
            const container = document.getElementById('products-container');
            const noProducts = document.getElementById('no-products');
            
            container.innerHTML = '';
            
            if (products.length === 0) {
                noProducts.style.display = 'block';
                container.style.display = 'none';
            } else {
                noProducts.style.display = 'none';
                container.style.display = 'grid';
                
                products.forEach(product => {
                    const productCard = document.createElement('div');
                    productCard.className = 'product-card';
                    productCard.innerHTML = `
                        <img src="${product.image}" alt="${product.name}" class="product-image">
                        <div class="product-body">
                            <h3 class="product-title">${product.name}</h3>
                            <p class="product-price">${product.price} دينار</p>
                            <p class="product-seller">البائع: ${product.clientName}</p>
                            <p class="product-date">${product.date}</p>
                        </div>
                    `;
                    
                    productCard.addEventListener('click', () => showProductDetails(product));
                    container.appendChild(productCard);
                });
            }
        }
        
        // عرض تفاصيل المنتج في نافذة منبثقة
        function showProductDetails(product) {
            document.getElementById('modal-product-title').textContent = product.name;
            document.getElementById('modal-product-image').src = product.image;
            document.getElementById('modal-product-price').textContent = `${product.price} دينار`;
            document.getElementById('modal-product-seller').innerHTML = `<strong>البائع:</strong> ${product.clientName}`;
            document.getElementById('modal-product-category').innerHTML = `<strong>الفئة:</strong> ${product.category}`;
            document.getElementById('modal-product-condition').innerHTML = `<strong>الحالة:</strong> ${product.condition}`;
            document.getElementById('modal-product-date').textContent = `تم الإضافة في: ${product.date}`;
            document.getElementById('modal-product-description').textContent = product.description || 'لا يوجد وصف مفصل للمنتج';
            
            document.getElementById('product-modal').style.display = 'flex';
        }
        
        // إغلاق نافذة تفاصيل المنتج
        function closeModal() {
            document.getElementById('product-modal').style.display = 'none';
        }
        
        // التواصل مع البائع (وظيفة وهمية)
        function contactSeller() {
            alert('سيتم فتح قناة للتواصل مع البائع في النسخة الكاملة من النظام');
        }
        
        // تحميل منتجات البائع
        function loadMyProducts() {
            const clientId = document.getElementById('manage-client-id').value;
            
            if (clientId.length !== 6 || !/^\d+$/.test(clientId)) {
                alert('الرجاء إدخال رقم تعريفي صحيح مكون من 6 أرقام');
                return;
            }
            
            const products = loadProducts();
            const myProducts = products.filter(product => product.clientId === clientId);
            
            const container = document.getElementById('my-products-container');
            const noProducts = document.getElementById('no-my-products');
            
            container.innerHTML = '';
            
            if (myProducts.length === 0) {
                noProducts.style.display = 'block';
                container.style.display = 'none';
            } else {
                noProducts.style.display = 'none';
                container.style.display = 'grid';
                
                myProducts.forEach(product => {
                    const productCard = document.createElement('div');
                    productCard.className = 'product-card';
                    productCard.innerHTML = `
                        <img src="${product.image}" alt="${product.name}" class="product-image">
                        <div class="product-body">
                            <h3 class="product-title">${product.name}</h3>
                            <p class="product-price">${product.price} دينار</p>
                            <p class="product-date">${product.date}</p>
                            <button onclick="editProduct('${product.id}')" style="background: #3498db; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; margin-top: 10px; width: 100%;">
                                <i class="fas fa-edit"></i> تعديل المنتج
                            </button>
                        </div>
                    `;
                    
                    container.appendChild(productCard);
                });
            }
        }
        
        // تعديل المنتج
        function editProduct(productId) {
            const products = loadProducts();
            const product = products.find(p => p.id === productId);
            
            if (!product) return;
            
            document.getElementById('edit-product-id').value = product.id;
            document.getElementById('edit-product-name').value = product.name;
            document.getElementById('edit-product-price').value = product.price;
            document.getElementById('edit-product-category').value = product.category;
            document.getElementById('edit-product-description').value = product.description;
            document.getElementById('edit-product-condition').value = product.condition;
            
            document.getElementById('edit-modal').style.display = 'flex';
        }
        
        // إغلاق نافذة التعديل
        function closeEditModal() {
            document.getElementById('edit-modal').style.display = 'none';
        }
        
        // حفظ التعديلات على المنتج
        document.getElementById('edit-product-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const productId = document.getElementById('edit-product-id').value;
            const productName = document.getElementById('edit-product-name').value;
            const productPrice = document.getElementById('edit-product-price').value;
            const productCategory = document.getElementById('edit-product-category').value;
            const productDescription = document.getElementById('edit-product-description').value;
            const productCondition = document.getElementById('edit-product-condition').value;
            
            let products = loadProducts();
            const productIndex = products.findIndex(p => p.id === productId);
            
            if (productIndex !== -1) {
                products[productIndex].name = productName;
                products[productIndex].price = productPrice;
                products[productIndex].category = productCategory;
                products[productIndex].description = productDescription;
                products[productIndex].condition = productCondition;
                
                saveProducts(products);
                alert('تم تحديث المنتج بنجاح');
                loadMyProducts();
                closeEditModal();
            }
        });
        
        // حذف المنتج
        function deleteProduct() {
            if (!confirm('هل أنت متأكد من حذف هذا المنتج؟ لا يمكن التراجع عن هذه العملية.')) {
                return;
            }
            
            const productId = document.getElementById('edit-product-id').value;
            let products = loadProducts();
            products = products.filter(p => p.id !== productId);
            
            saveProducts(products);
            alert('تم حذف المنتج بنجاح');
            loadMyProducts();
            closeEditModal();
        }
    </script> 
 </body>
</html>
